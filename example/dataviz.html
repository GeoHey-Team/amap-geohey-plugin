<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>Amap GeoHey Plugin</title>
	<style>
		html,
		body {
			width: 100%;
			height: 100%;
			padding: 0;
			margin: 0;
			border: 0;
			overflow: hidden;
		}

		#container {
			width: 100%;
			height: 100%;
		}
	</style>
</head>

<body>
	<div id="container"></div>
	<script type="text/javascript" src="http://webapi.amap.com/maps?v=1.4.2&key=7ef8448ac08bd68aa271d38629455ed8"></script>
	<script type="text/javascript" src="../dist/amap-geohey-plugin.js"></script>
	<script>
		var map = new AMap.Map('container', {
			resizeEnable: true,
			zoom: 5,
			center: [116.23, 39.94]
		});

		map.plugin(["AMap.Heatmap"], function() {

			const layers = AMapGeoHey.DataViz.get([{
				"dataUid": "a31be504afa44c1ea6afa19995693600",
				"dataType": "private",
				"interactivity": [
					"geoheylng"
				],
				"vizConfig": {
					"type": "marker-heat",
					"weightField": null,
					"heatTopValue": 5,
					"heatSize": 10000,
					"heatSizeUnit": "map",
					"heatMapSize": 500,
					"heatPixelSize": 20,
					"resolution": 4,
					"colors": {
						"1": "#ff0000",
						"0.2": "#0000ff",
						"0.4": "#00ffff",
						"0.6": "#00ff00",
						"0.8": "#ffff00"
					},
					"heatMinOpacity": 0,
					"heatMaxOpacity": 0.8,
					"info": "heatLayerUpdate",
					"version": "1.0.0"
				}
			},{
			    "dataUid": "09ed9bfde90349799b8193ad9b5c0ec4",
			    "dataType": "public",
			    "vizConfig": {
			      "type": "marker-simple",
			      "labelField": null,
			      "labelColor": "#000000",
			      "labelFont": "Microsoft YaHei Regular",
			      "labelSize": 12,
			      "labelDx": 0,
			      "labelDy": -20,
			      "labelHaloColor": "#fff",
			      "labelAllowOverlap": true,
			      "labelPlacement": "point",
			      "blendingMode": "src-over",
			      "markerColor": "#c00000",
			      "markerOpacity": 0.8,
			      "markerSize": 18.4,
			      "outlineColor": "#ffffff",
			      "outlineOpacity": 0.8,
			      "outlineWidth": 1
			    }
			}], {
				host: 'http://geohey.com',
				ak: 'YWE2Njk1OGE2ZjFmNDI3ZGEyNTg0Yzk0ZGM2Y2Q2ODk',
				tileHost: 'http://{s}.geohey.com',
				cluster: ['s1', 's2', 's3', 's4', 's5', 's6', 's7', 's8'],
				uri: {
					private: '/s/dataviz/',
					public: '/s/dataviz/'
				}
			}, map)

			console.log(layers)

		});
	</script>
</body>

</html>
